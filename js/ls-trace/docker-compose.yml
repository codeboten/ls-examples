version: '3.7'
services:
  js-server:
    container_name: ls-trace-js-server
    build: ./server
    networks:
      - demo
    env_file:
      - .env
    environment:
      - LIGHTSTEP_COMPONENT_NAME=ls-trace-js-server
  js-client:
    container_name: ls-trace-js-client
    build: ./client
    networks:
      - demo
    depends_on:
      - ls-trace-js-server
    env_file:
      - .env
    environment:
      - LIGHTSTEP_COMPONENT_NAME=ls-trace-js-client
      - TARGET_URL=http://js-server:8080/ping
networks:
  demo:
